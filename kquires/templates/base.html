
{% load static i18n %}
    {% load render_bundle from webpack_loader %}

  <!DOCTYPE html>
{% get_current_language as LANGUAGE_CODE %}
<html lang="{{ LANGUAGE_CODE }}">
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="x-ua-compatible" content="ie=edge" />
    <title>
      {% block title %}
      kquires
    {% endblock title %}
  </title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="description"
        content="Kquires Knowledge Base" />
  <meta name="author"
        content="usman" />
  <link rel="icon" href="{% static 'images/favicons/favicon.ico' %}" />
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Open+Sans:ital,wght@0,300..800;1,300..800&family=Tajawal:wght@200;300;400;500;700;800;900&display=swap" rel="stylesheet">

  {% block css %}
<!-- Your stuff: Third-party CSS libraries go here -->
<!-- This file stores project-specific CSS -->


{% render_bundle 'project' 'css' %}


{% endblock css %}
<!-- Le javascript
    ================================================== -->
{# Placed at the top of the document so pages load faster with defer #}
{% block javascript %}


<!-- Vendor dependencies bundled as one file -->
{% render_bundle 'vendors' 'js' attrs='defer' %}


<!-- place project specific Javascript in this file -->


{% render_bundle 'project' 'js' attrs='defer' %}


{% endblock javascript %}
<style>
  body {
    /* font-family: 'Garnett', Helvetica, Arial, sans-serif; */
    font-family: "Tajawal", serif !important;
}

  .text-a94bea {
    color: #A94BEA !important;
}

.icon-a94bea {
    filter: invert(32%) sepia(54%) saturate(686%) hue-rotate(234deg) brightness(90%) contrast(94%);
}
a{
  text-decoration: none !important;
}

::-webkit-scrollbar {
    width: 10px;
    height: 8px;
}


::-webkit-scrollbar-track {
    background: #e0e2e5;
    border-radius: 8px;
}


::-webkit-scrollbar-thumb {
    background: #b175dc;
    border-radius: 8px;
}

::-webkit-scrollbar-thumb:hover {
  background: #b240eb;
}



</style>
</head>
<body class="{% block bodyclass %}{% endblock bodyclass %}" style="background:#F8FAFC">
{% block body %}
<div class="toast-container position-fixed bottom-0 end-0 p-3">
  {% for message in messages %}
      <div class="toast align-items-center text-bg-{{ message.tags }} border-0" role="alert" aria-live="assertive" aria-atomic="true" data-bs-autohide="true" data-bs-delay="5000">
          <div class="d-flex">
              <div class="toast-body">
                  {{ message }}
              </div>
              <button type="button" class="btn-close btn-close-white me-2 m-auto" data-bs-dismiss="toast" aria-label="Close"></button>
          </div>
      </div>
  {% endfor %}
</div>

  <div style="min-height: 100vh;">
    {% block main %}
      {% block content %}
        <p>Use this document as a way to quick start any new project.</p>
      {% endblock content %}
    {% endblock main %}

  </div>
  {% endblock body %}
  <!-- /container -->
  {% block modal %}
  {% endblock modal %}
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script> 
    <script>

      // Function to get a cookie
      function getCookie(name) {
        const decodedCookie = decodeURIComponent(document.cookie);
        const cookies = decodedCookie.split(';');
        for (let i = 0; i < cookies.length; i++) {
          let cookie = cookies[i];
          while (cookie.charAt(0) === ' ') {
            cookie = cookie.substring(1);
          }
          if (cookie.indexOf(name + '=') === 0) {
            return cookie.substring(name.length + 1, cookie.length);
          }
        }
        return '';
      }
      (function setDirection() {
        const langCode = getCookie('language') || 'en'; // Default to English
        const body = document.body;
        const navbaricon = document.getElementById('navbar-icons');
        
        if (langCode === 'en') {
          if (navbaricon) {
            navbaricon.classList.add('ms-auto');
            navbaricon.classList.remove('me-auto');
          }
          body.style.direction = "ltr";
        } else {
          if (navbaricon) {
            navbaricon.classList.remove('ms-auto');
            navbaricon.classList.add('me-auto');
          }
          body.style.direction = "rtl";
        }
      })();

      const menuToggle = document.getElementById("menu-toggle");
      const menuToggleT = document.getElementById("menu-toggle-t");
      const wrapper = document.getElementById("wrapper");

      if(menuToggleT){

      if (wrapper.classList.contains("menuDisplayed")) {
        menuToggleT.style.display = "none";
      } else {
        menuToggleT.style.display = "block";
      }

      document.addEventListener("DOMContentLoaded", function () {
        menuToggle.addEventListener("click", function (e) {
          e.preventDefault();
          wrapper.classList.toggle("menuDisplayed");

          if (wrapper.classList.contains("menuDisplayed")) {
            menuToggleT.style.display = "none";
          } else {
            menuToggleT.style.display = "block";
          }

        });
        menuToggleT.addEventListener("click", function (e) {
          e.preventDefault();
          wrapper.classList.toggle("menuDisplayed");

          if (wrapper.classList.contains("menuDisplayed")) {
            menuToggleT.style.display = "none";
          } else {
            menuToggleT.style.display = "block";
          }

        });
      });

    }
    </script>
    <script>
      document.addEventListener('DOMContentLoaded', function () {
          var toastElList = [].slice.call(document.querySelectorAll('.toast'));
          toastElList.map(function (toastEl) {
              var toast = new bootstrap.Toast(toastEl);
              toast.show();
          });
      });
  </script>
  
  {% block extra_js %}{% endblock %}
  
  {% include "pages/layout/footer.html" %}
  
  <!-- Floating Chatbot Widget -->
  {% if user.is_authenticated %}
    {% include 'chatbot/floating_widget.html' %}
  {% endif %}
</body>
</html>
